<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"qixinbo.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="简介 vim是一个非常强大的文本编辑器，而Neovim是对原vim的一个分叉，不过最简单的Neovim显得太过朴素，不过它提供了强大的插件系统，可以通过各种插件将其由一个简约的文本编辑器转化为强大的代码开发IDE。 NvChad就是一个Neovim的预配置库，可以使得Neovim开箱即获得各种强大的功能：   * NvChad是一个用lua编写的neovim配置，旨在提供一个具有非常漂亮的用户界面">
<meta property="og:type" content="article">
<meta property="og:title" content="Neovim预配置库NvChad探索">
<meta property="og:url" content="http://qixinbo.github.io/2022/08/11/neovim_nvchad/index.html">
<meta property="og:site_name" content="数字旗手">
<meta property="og:description" content="简介 vim是一个非常强大的文本编辑器，而Neovim是对原vim的一个分叉，不过最简单的Neovim显得太过朴素，不过它提供了强大的插件系统，可以通过各种插件将其由一个简约的文本编辑器转化为强大的代码开发IDE。 NvChad就是一个Neovim的预配置库，可以使得Neovim开箱即获得各种强大的功能：   * NvChad是一个用lua编写的neovim配置，旨在提供一个具有非常漂亮的用户界面">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-08-10T16:00:00.000Z">
<meta property="article:modified_time" content="2022-08-25T07:34:28.376Z">
<meta property="article:author" content="Xin-Bo Qi(亓欣波)">
<meta property="article:tag" content="vim">
<meta property="article:tag" content="IDE">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://qixinbo.github.io/2022/08/11/neovim_nvchad/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Neovim预配置库NvChad探索 | 数字旗手</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="数字旗手" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">数字旗手</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">电气化、自动化、数字化、智能化、智慧化</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-scholar">

    <a href="/scholar/" rel="section"><i class="fa fa-chart-bar fa-fw"></i>scholar</a>

  </li>
        <li class="menu-item menu-item-sources">

    <a href="/sources/" rel="section"><i class="fa fa-rss fa-fw"></i>sources</a>

  </li>
        <li class="menu-item menu-item-gallery">

    <a href="/gallery/" rel="section"><i class="fa fa-file-image fa-fw"></i>gallery</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404.html" rel="section"><i class="fa fa-heartbeat fa-fw"></i>Commonweal 404</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://qixinbo.github.io/2022/08/11/neovim_nvchad/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Xin-Bo Qi(亓欣波)">
      <meta itemprop="description" content="Digitize everything to realize Digitalization!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="数字旗手">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Neovim预配置库NvChad探索
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-08-11 00:00:00" itemprop="dateCreated datePublished" datetime="2022-08-11T00:00:00+08:00">2022-08-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-08-25 15:34:28" itemprop="dateModified" datetime="2022-08-25T15:34:28+08:00">2022-08-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/coding/" itemprop="url" rel="index"><span itemprop="name">coding</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2022/08/11/neovim_nvchad/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2022/08/11/neovim_nvchad/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p><code>vim</code>是一个非常强大的文本编辑器，而<code>Neovim</code>是对原<code>vim</code>的一个分叉，不过最简单的<code>Neovim</code>显得太过朴素，不过它提供了强大的插件系统，可以通过各种插件将其由一个简约的文本编辑器转化为强大的代码开发IDE。<br><a target="_blank" rel="noopener" href="https://nvchad.github.io/"><code>NvChad</code></a>就是一个<code>Neovim</code>的预配置库，可以使得<code>Neovim</code>开箱即获得各种强大的功能：</p>
<ul>
<li><code>NvChad</code>是一个用<code>lua</code>编写的<code>neovim</code>配置，旨在提供一个具有非常漂亮的用户界面和极快的启动时间的基本配置（在基础硬件上约0.02秒至0.07秒）；</li>
<li>懒加载的机制使得插件不会被默认加载，只有在需要的时候才会被加载，包括特定的命令和vim事件等。这有助于减少启动时间，从而使启动时间比平时快；</li>
<li><code>NvChad</code>不是一个框架，它是作为大众的 “基础 “配置使用的。它的目的是提供一个特定的默认插件集。</li>
</ul>
<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><h2 id="前提条件"><a href="#前提条件" class="headerlink" title="前提条件"></a>前提条件</h2><p>在使用<code>NvChad</code>之前，要有一些前提依赖：</p>
<ul>
<li>终端<br>即<code>Neovim</code>运行的环境，<code>Linux</code>系统推荐<a target="_blank" rel="noopener" href="https://github.com/gnome-terminator/terminator"><code>Terminator</code></a>，<code>Windows</code>推荐<a target="_blank" rel="noopener" href="https://github.com/microsoft/terminal"><code>Windows Terminal</code></a>。</li>
<li><code>Neovim 0.7.2</code>及以上<br>安装教程在<a target="_blank" rel="noopener" href="https://github.com/neovim/neovim/wiki/Installing-Neovim">这里</a>。</li>
<li>字体及图标：<br>一个推荐的编程字体是<code>Fira Code</code>字体，这里不光安装它，还安装它的一个扩展，即<code>Nerd fonts</code>（<code>Nerd fonts</code> 本身并不是一种新的字体，而是把常用图标以打补丁的方式打到了常用字体上。）<br>具体到<a target="_blank" rel="noopener" href="https://www.nerdfonts.com/font-downloads">官网这里</a>进行下载。<br>对于<code>Linux</code>字体的安装，步骤为：<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">sudo unzip FiraCode.zip -d /usr/share/fonts</span><br><span class="line">sudo fc-cache -fv</span><br><span class="line">````</span><br><span class="line">对于`Windows`版本，注意在下载的文件中选择`XXXX Windows Compatible.ttf`。然后在`Windows Terminal`的字体中选择`FiraCode NF`字体即可。）</span><br><span class="line">为了测试是否成功，可以到[这个网址](www.nerdfonts.com/cheat-sheet)，点击 `Show All Icons` 按钮，选择一个图标，点击右上角的 `Copy Icon`，然后粘贴到命令行里即可。</span><br><span class="line">- 保证所需的目录干净</span><br><span class="line">对于Linux和MacOS系统，删除`~/.<span class="built_in">local</span>/share/nvim`这个文件夹；对于Windows系统，删除`~\AppData\Local\nvim`和`~\AppData\Local\nvim-data`。</span><br><span class="line">- 如果要用到`Telescope`的模糊搜索，还要提前安装`ripgrep`。具体安装方法可以参考官方文档[BurntSushi/ripgrep](https://github.com/BurntSushi/ripgrep)。</span><br><span class="line"></span><br><span class="line"><span class="comment">## 安装</span></span><br><span class="line">对于Linux/MacOS系统：</span><br><span class="line">```sh</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/NvChad/NvChad ~/.config/nvim --depth 1 &amp;&amp; nvim</span><br></pre></td></tr></table></figure>
对于Windows系统：<br>（注意：还需提前安装<a target="_blank" rel="noopener" href="https://www.mingw-w64.org/"><code>mingw</code></a>，以及在环境变量中配置其路径）<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/NvChad/NvChad <span class="variable">$HOME</span>\AppData\Local\nvim --depth 1 &amp;&amp; nvim</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="升级"><a href="#升级" class="headerlink" title="升级"></a>升级</h2><p><code>NvChad</code>有一个内置的升级机制，快捷键是<code>&lt;leader&gt; + uu</code>。<br>注意，默认配置下<code>&lt;leader&gt;</code>键是空格键<code>&lt;space&gt;</code>。<br>具体地，它在后台会使用<code>git reset --hard</code>来获取官方git库中的更新，因此在<code>lua/custom</code>文件夹外的改动都会被丢弃（因此，如果想在<code>NvChad</code>上自定义配置，需要在<code>lua/custom</code>文件夹内进行）。</p>
<h2 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># linux/macos (unix)</span></span><br><span class="line">rm -rf ~/.config/nvim</span><br><span class="line">rm -rf ~/.<span class="built_in">local</span>/share/nvim</span><br><span class="line">rm -rf ~/.cache/nvim</span><br><span class="line"></span><br><span class="line"><span class="comment"># windows</span></span><br><span class="line">rd -r ~\AppData\Local\nvim</span><br><span class="line">rd -r ~\AppData\Local\nvim-data</span><br></pre></td></tr></table></figure>
<h1 id="安装之后"><a href="#安装之后" class="headerlink" title="安装之后"></a>安装之后</h1><p>上一步安装好<code>NvChad</code>后，还可以做一些进阶动作，当然不做也不影响使用。</p>
<h2 id="创建自定义配置"><a href="#创建自定义配置" class="headerlink" title="创建自定义配置"></a>创建自定义配置</h2><ul>
<li><code>NvChad</code>的更新不会覆盖<code>lua/custom</code>目录，因为它被<code>gitignored</code>了，因此所有的用户修改都必须在这个文件夹中完成。</li>
<li><code>lua/custom/init.lua</code>在<code>init.lua</code>主文件的最后被加载，可以在这里添加自定义的命令等。</li>
<li><code>lua/custom/chadrc.lua</code>用于覆盖<code>lua/core/default_config.lua</code>并基本上控制整个<code>nvchad</code>，因此必须采用跟<code>default_config.lua</code>一样的代码结构。</li>
</ul>
<p><code>NvChad</code>在<code>examples</code>文件夹中提供了<code>init.lua</code>和<code>chadrc.lua</code>，可以将其作为默认初始的自定义配置文件，将其复制到<code>custom</code>文件夹中：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir lua/custom</span><br><span class="line">cp examples/init.lua lua/custom/init.lua</span><br><span class="line">cp examples/chadrc.lua lua/custom/chadrc.lua</span><br></pre></td></tr></table></figure></p>
<h2 id="安装Treesitter解析器"><a href="#安装Treesitter解析器" class="headerlink" title="安装Treesitter解析器"></a>安装Treesitter解析器</h2><p><a target="_blank" rel="noopener" href="https://github.com/nvim-treesitter/nvim-treesitter"><code>nvim-treesitter</code></a>提供了代码高亮、缩进和折叠等功能。<br><code>nvim-treesitter</code>的正常运行需要满足以下条件：</p>
<ul>
<li>在环境变量中能找到<code>tar</code>和<code>curl</code>命令（或者<code>git</code>命令）</li>
<li>在环境变量中有<code>C</code>编译器和<code>libstdc++</code><br>在<code>Linux</code>系统中，使用<code>sudo apt install build-essential</code>即可安装相应依赖，在<code>Windows</code>系统中，可查看<a target="_blank" rel="noopener" href="https://github.com/nvim-treesitter/nvim-treesitter/wiki/Windows-support">该详细教程</a></li>
</ul>
<p>安装解析器使用以下命令（以<code>Python</code>为例）：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:TSInstall python</span><br></pre></td></tr></table></figure></p>
<h2 id="安装Node-JS"><a href="#安装Node-JS" class="headerlink" title="安装Node.JS"></a>安装Node.JS</h2><p><code>Node.js</code>对于后面的<code>LSP</code>是有用的，比如安装<code>pyright</code>时需要用到<code>npm</code>，所以这里也可以事先安装。<br>安装包在<a target="_blank" rel="noopener" href="https://nodejs.org/zh-cn/">这里</a>。<br>对于<code>Ubuntu</code>等<code>Linux</code>系统，也可以使用包管理器来安装，教程见<a target="_blank" rel="noopener" href="https://nodejs.org/zh-cn/download/package-manager/">这里</a>。<br>以<code>Ubuntu</code>为例：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://deb.nodesource.com/setup_16.x | sudo -E bash -</span><br><span class="line">sudo apt-get install -y nodejs</span><br></pre></td></tr></table></figure></p>
<h1 id="Lua简明教程"><a href="#Lua简明教程" class="headerlink" title="Lua简明教程"></a>Lua简明教程</h1><h2 id="Print"><a href="#Print" class="headerlink" title="Print"></a>Print</h2><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Hi&quot;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- comment</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Hi&quot;</span>) <span class="comment">-- comment</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment"> multi-line </span></span><br><span class="line"><span class="comment"> comment</span></span><br><span class="line"><span class="comment">]]</span></span><br></pre></td></tr></table></figure>
<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- Different types</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> x = <span class="number">10</span> <span class="comment">-- number</span></span><br><span class="line"><span class="keyword">local</span> name = <span class="string">&quot;sid&quot;</span> <span class="comment">-- string</span></span><br><span class="line"><span class="keyword">local</span> isAlive = <span class="literal">true</span> <span class="comment">-- boolean</span></span><br><span class="line"><span class="keyword">local</span> a = <span class="literal">nil</span> <span class="comment">--no value or invalid value</span></span><br></pre></td></tr></table></figure>
<h2 id="条件表达式"><a href="#条件表达式" class="headerlink" title="条件表达式"></a>条件表达式</h2><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- Number comparisons</span></span><br><span class="line"><span class="keyword">local</span> age = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> age &gt; <span class="number">18</span> <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;over 18&quot;</span>) <span class="comment">-- this will not be executed</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- elseif and else</span></span><br><span class="line">age = <span class="number">20</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> age &gt; <span class="number">18</span> <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;over 18&quot;</span>)</span><br><span class="line"><span class="keyword">elseif</span> age == <span class="number">18</span> <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;18 huh&quot;</span>)</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;kiddo&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- Boolean comparison</span></span><br><span class="line"><span class="keyword">local</span> isAlive = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> isAlive <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Be grateful!&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- String comparisons</span></span><br><span class="line"><span class="keyword">local</span> name = <span class="string">&quot;sid&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> name ~= <span class="string">&quot;sid&quot;</span> <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;not sid&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h3 id="组合表达式"><a href="#组合表达式" class="headerlink" title="组合表达式"></a>组合表达式</h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> age = <span class="number">22</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> age == <span class="number">10</span> <span class="keyword">and</span> x &gt; <span class="number">0</span> <span class="keyword">then</span> <span class="comment">-- both should be true</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;kiddo!&quot;</span>)</span><br><span class="line"><span class="keyword">elseif</span> x == <span class="number">18</span> <span class="keyword">or</span> x &gt; <span class="number">18</span> <span class="keyword">then</span> <span class="comment">-- 1 or more are true</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;over 18&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- result: over 18</span></span><br></pre></td></tr></table></figure>
<h3 id="反转"><a href="#反转" class="headerlink" title="反转"></a>反转</h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> x = <span class="number">18</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> x == <span class="number">18</span> <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;kiddo!&quot;</span>) <span class="comment">-- prints nothing as x is 18</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> <span class="function"><span class="keyword">function</span> <span class="title">print_num</span><span class="params">(a)</span></span></span><br><span class="line">  <span class="built_in">print</span>(a)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">or</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> print_num = <span class="function"><span class="keyword">function</span><span class="params">(a)</span></span></span><br><span class="line">  <span class="built_in">print</span>(a)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">print_num(<span class="number">5</span>) <span class="comment">-- prints 5 </span></span><br></pre></td></tr></table></figure>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- multiple parameters</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span><span class="params">(a, b)</span></span></span><br><span class="line">  <span class="keyword">return</span> a + b</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h2 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h2><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span><span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> n = <span class="number">10</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(n) <span class="comment">-- nil , n isn&#x27;t accessible outside foo()</span></span><br></pre></td></tr></table></figure>
<h2 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h2><h3 id="While"><a href="#While" class="headerlink" title="While"></a>While</h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> i = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> i &lt;= <span class="number">3</span> <span class="keyword">do</span></span><br><span class="line">   <span class="built_in">print</span>(<span class="string">&quot;hi&quot;</span>)</span><br><span class="line">   i = i + <span class="number">1</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h3 id="For"><a href="#For" class="headerlink" title="For"></a>For</h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i = <span class="number">1</span>, <span class="number">3</span> <span class="keyword">do</span></span><br><span class="line">   <span class="built_in">print</span>(<span class="string">&quot;hi&quot;</span>)</span><br><span class="line">   i = i + <span class="number">1</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h2 id="Tables"><a href="#Tables" class="headerlink" title="Tables"></a>Tables</h2><h3 id="数组（列表）"><a href="#数组（列表）" class="headerlink" title="数组（列表）"></a>数组（列表）</h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> colors = &#123; <span class="string">&quot;red&quot;</span>, <span class="string">&quot;green&quot;</span>, <span class="string">&quot;blue&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(colors[<span class="number">1</span>]) <span class="comment">-- red</span></span><br><span class="line"><span class="built_in">print</span>(colors[<span class="number">2</span>]) <span class="comment">-- green</span></span><br><span class="line"><span class="built_in">print</span>(colors[<span class="number">3</span>]) <span class="comment">-- blue</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- Different ways to loop through lists</span></span><br><span class="line"><span class="comment">-- #colors is the length of the table, #tablename is the syntax</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i = <span class="number">1</span>, #colors <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">print</span>(colors[i])</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ipairs </span></span><br><span class="line"><span class="keyword">for</span> index, value <span class="keyword">in</span> <span class="built_in">ipairs</span>(colors) <span class="keyword">do</span></span><br><span class="line">   <span class="built_in">print</span>(colors[index])</span><br><span class="line">   <span class="comment">-- or</span></span><br><span class="line">   <span class="built_in">print</span>(value)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- If you dont use index or value here then you can replace it with _ </span></span><br><span class="line"><span class="keyword">for</span> _, value <span class="keyword">in</span> <span class="built_in">ipairs</span>(colors) <span class="keyword">do</span></span><br><span class="line">   <span class="built_in">print</span>(value)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h3 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> info = &#123; </span><br><span class="line">   name = <span class="string">&quot;sid&quot;</span>,</span><br><span class="line">   age = <span class="number">20</span>,</span><br><span class="line">   isAlive = <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- both print sid</span></span><br><span class="line">prrint(info[<span class="string">&quot;name&quot;</span>])</span><br><span class="line"><span class="built_in">print</span>(info.name)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Loop by pairs</span></span><br><span class="line"><span class="keyword">for</span> key, value <span class="keyword">in</span> <span class="built_in">pairs</span>(info) <span class="keyword">do</span></span><br><span class="line">   <span class="built_in">print</span>(key .. <span class="string">&quot; &quot;</span> .. <span class="built_in">tostring</span>(value))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- prints name sid, age 20 etc</span></span><br></pre></td></tr></table></figure>
<h3 id="嵌套Tables"><a href="#嵌套Tables" class="headerlink" title="嵌套Tables"></a>嵌套Tables</h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- Nested lists</span></span><br><span class="line"><span class="keyword">local</span> data = &#123;</span><br><span class="line">    &#123; <span class="string">&quot;Sid&quot;</span>, <span class="number">20</span> &#125;,</span><br><span class="line">    &#123; <span class="string">&quot;Tim&quot;</span>, <span class="number">90</span> &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i = <span class="number">1</span>, #data <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">print</span>(data[i][<span class="number">1</span>] .. <span class="string">&quot; is &quot;</span> .. data[i][<span class="number">2</span>] .. <span class="string">&quot; years old&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- Nested dictionaries</span></span><br><span class="line"><span class="keyword">local</span> data = &#123;</span><br><span class="line">    sid = &#123; age = <span class="number">20</span> &#125;,</span><br><span class="line">    <span class="built_in">time</span> = &#123; age = <span class="number">90</span> &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h2><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="Neovim中的Lua应用"><a href="#Neovim中的Lua应用" class="headerlink" title="Neovim中的Lua应用"></a>Neovim中的Lua应用</h2><p>Neovim中的配置文件和插件都可以使用<code>Lua</code>进行编写，具体的教程，可以参考<a target="_blank" rel="noopener" href="https://github.com/nanotee/nvim-lua-guide">该文档</a>。</p>
<h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><h2 id="总览"><a href="#总览" class="headerlink" title="总览"></a>总览</h2><p><code>NvChad</code>的文件结构如下：<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">├── init.lua</span><br><span class="line">│</span><br><span class="line">├── lua</span><br><span class="line">│   │</span><br><span class="line">│   ├── core</span><br><span class="line">│   │   ├── default_config.lua</span><br><span class="line">│   │   ├── mappings.lua</span><br><span class="line">│   │   ├── options.lua</span><br><span class="line">│   │   ├── packer.lua  <span class="comment">-- (bootstrap packer &amp; installs plugins)</span></span><br><span class="line">│   │   ├── utils.lua  <span class="comment">-- (core util functions) (i)</span></span><br><span class="line">│   │   └── init.lua  <span class="comment">-- (autocmds)</span></span><br><span class="line">│   │</span><br><span class="line">│   ├── plugins</span><br><span class="line">│   │    ├── init.lua <span class="comment">-- (default plugin list)</span></span><br><span class="line">│   │    └── configs</span><br><span class="line">│   │        ├── cmp.lua</span><br><span class="line">│   │        ├── others.lu <span class="comment">-- (list of small configs of plugins)</span></span><br><span class="line">│   │        └── many more plugin configs</span><br><span class="line">|   |</span><br><span class="line">│   ├── custom *</span><br><span class="line">│   │   ├── chadrc.lua <span class="comment">-- (overrides default_config)</span></span><br><span class="line">│   │   ├── init.lua <span class="comment">-- (runs after main init.lua file)</span></span><br><span class="line">│   │   ├── more files, dirs</span><br></pre></td></tr></table></figure></p>
<h3 id="配置主题"><a href="#配置主题" class="headerlink" title="配置主题"></a>配置主题</h3><p>快捷键是：<code>&lt;leader&gt; + th</code>。</p>
<h3 id="快捷键映射"><a href="#快捷键映射" class="headerlink" title="快捷键映射"></a>快捷键映射</h3><p><code>:Telescope keymaps</code></p>
<h3 id="默认设置"><a href="#默认设置" class="headerlink" title="默认设置"></a>默认设置</h3><p>默认设置在<code>lua/core/default_config.lua</code>。</p>
<h2 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h2><p>在<code>custom/init.lua</code>中可以进行如下操作：</p>
<ul>
<li>重载默认选项</li>
<li>设置<code>autocmds</code>和<code>global</code>全局变量</li>
<li>懒加载，具体可以查看<a target="_blank" rel="noopener" href="https://github.com/wbthomason/packer.nvim#specifying-plugins">packer readme</a></li>
<li>代码片段，比如：<code>vim.g.luasnippets_path = &quot;your snippets path&quot;</code></li>
</ul>
<h2 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h2><p><code>NvChad</code>在底层使用<code>packer.nvim</code>，不过它重新定义了一套语法，比如：</p>
<ul>
<li><code>packer.nvim</code>定义插件的方式：<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">use &#123; <span class="string">&quot;NvChad/nvterm&quot;</span> &#125;, <span class="comment">-- without any options</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- with more options</span></span><br><span class="line">use &#123;</span><br><span class="line">   <span class="string">&quot;NvChad/nvterm&quot;</span></span><br><span class="line">   <span class="built_in">module</span> = <span class="string">&quot;nvterm&quot;</span>,</span><br><span class="line">   <span class="built_in">config</span> = <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">      <span class="built_in">require</span> <span class="string">&quot;plugins.configs.nvterm&quot;</span></span><br><span class="line">   <span class="keyword">end</span>,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li>
<li><code>NvChad</code>定义插件的方式：<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&quot;NvChad/nvterm&quot;</span>] = &#123;&#125;, <span class="comment">-- without any options</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- with more options</span></span><br><span class="line">[<span class="string">&quot;NvChad/nvterm&quot;</span>] = &#123;</span><br><span class="line">   <span class="built_in">module</span> = <span class="string">&quot;nvterm&quot;</span>,</span><br><span class="line">   <span class="built_in">config</span> = <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">      <span class="built_in">require</span> <span class="string">&quot;plugins.configs.nvterm&quot;</span></span><br><span class="line">   <span class="keyword">end</span>,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h3><p>首先创建<code>lua/custom/plugins/init.lua</code>，按以下格式添加插件：<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- custom/plugins/init.lua has to return a table</span></span><br><span class="line"><span class="comment">-- THe plugin name is github user or organization name/reponame</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line"></span><br><span class="line">   [<span class="string">&quot;elkowar/yuck.vim&quot;</span>] = &#123; ft = <span class="string">&quot;yuck&quot;</span> &#125;,</span><br><span class="line"></span><br><span class="line">   [<span class="string">&quot;max397574/better-escape.nvim&quot;</span>] = &#123;</span><br><span class="line">      event = <span class="string">&quot;InsertEnter&quot;</span>,</span><br><span class="line">      <span class="built_in">config</span> = <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">         <span class="built_in">require</span>(<span class="string">&quot;better_escape&quot;</span>).setup()</span><br><span class="line">      <span class="keyword">end</span>,</span><br><span class="line">   &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>然后在<code>lua/custom/chadrc.lua</code>中引入该文件（实际写完一次后就不用更改了）：<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- chadrc.lua</span></span><br><span class="line"></span><br><span class="line">M.plugins = &#123;</span><br><span class="line">   user = <span class="built_in">require</span> <span class="string">&quot;custom.plugins&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>最后执行<code>:PackerSync</code>即可。</p>
<h3 id="重载插件的默认配置"><a href="#重载插件的默认配置" class="headerlink" title="重载插件的默认配置"></a>重载插件的默认配置</h3><p>当想从一个插件的默认配置选项中改变一个东西，但又不想复制粘贴整个配置时，这个功能就很有用了。<br>如下：<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">M.plugins = &#123;</span><br><span class="line">   override = &#123;</span><br><span class="line">      [<span class="string">&quot;nvim-treesitter/nvim-treesitter&quot;</span>] = &#123;</span><br><span class="line">        ensure_installed = &#123;</span><br><span class="line">          <span class="string">&quot;html&quot;</span>,</span><br><span class="line">          <span class="string">&quot;css&quot;</span>,</span><br><span class="line">       &#125;,</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>但以上面这种方式的话，配置一多了就会显得很乱，可以采用如下这种方式：<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> pluginConfs = <span class="built_in">require</span> <span class="string">&quot;custom.plugins.configs&quot;</span></span><br><span class="line"></span><br><span class="line">M.plugins = &#123;</span><br><span class="line">   override = &#123;</span><br><span class="line">      [<span class="string">&quot;nvim-treesitter/nvim-treesitter&quot;</span>] = pluginConfs.treesitter,</span><br><span class="line">      [<span class="string">&quot;kyazdani42/nvim-tree.lua&quot;</span>] = pluginConfs.nvimtree,</span><br><span class="line">   &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- custom/plugins/configs.lua file</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> M = &#123;&#125;</span><br><span class="line"></span><br><span class="line">M.treesitter = &#123;</span><br><span class="line">   ensure_installed = &#123;</span><br><span class="line">      <span class="string">&quot;lua&quot;</span>,</span><br><span class="line">      <span class="string">&quot;html&quot;</span>,</span><br><span class="line">      <span class="string">&quot;css&quot;</span>,</span><br><span class="line">   &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">M.nvimtree = &#123;</span><br><span class="line">   git = &#123;</span><br><span class="line">      enable = <span class="literal">true</span>,</span><br><span class="line">   &#125;,</span><br><span class="line">   view = &#123;</span><br><span class="line">      side = <span class="string">&quot;right&quot;</span>,</span><br><span class="line">      width = <span class="number">20</span>,</span><br><span class="line">   &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- you cant directly call a module in chadrc thats related to the default config </span></span><br><span class="line"><span class="comment">-- Thats because most probably that module is lazyloaded</span></span><br><span class="line"><span class="comment">-- In this case its &#x27;cmp&#x27;, we have lazyloaded it by default</span></span><br><span class="line"><span class="comment">-- So you need to make this override field a function, instead of a table </span></span><br><span class="line"><span class="comment">-- And the function needs to return a table!</span></span><br><span class="line"></span><br><span class="line">M.cmp = <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">   <span class="keyword">local</span> cmp = <span class="built_in">require</span> <span class="string">&#x27;cmp&#x27;</span> </span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> &#123;</span><br><span class="line">      mapping = &#123;</span><br><span class="line">         [<span class="string">&quot;&lt;C-d&gt;&quot;</span>] = cmp.mapping.scroll_docs(<span class="number">-8</span>),</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> M</span><br></pre></td></tr></table></figure><br>然后执行<code>:PackerSync</code>。</p>
<h3 id="修改插件的配置"><a href="#修改插件的配置" class="headerlink" title="修改插件的配置"></a>修改插件的配置</h3><p>比如在<code>lua/custom/plugins/init.lua</code>中是这样定义<code>nvimtree</code>的：<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&quot;kyazdani42/nvim-tree.lua&quot;</span>] = &#123;</span><br><span class="line">     cmd = &#123; <span class="string">&quot;NvimTreeToggle&quot;</span>, <span class="string">&quot;NvimTreeFocus&quot;</span> &#125;,</span><br><span class="line"></span><br><span class="line">     setup = <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">        <span class="built_in">require</span>(<span class="string">&quot;core.mappings&quot;</span>).nvimtree()</span><br><span class="line">     <span class="keyword">end</span>,</span><br><span class="line"></span><br><span class="line">     <span class="built_in">config</span> = <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">        <span class="built_in">require</span> <span class="string">&quot;plugins.configs.nvimtree&quot;</span></span><br><span class="line">     <span class="keyword">end</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>现在想修改其中的<code>config</code>和<code>cmd</code>配置，那么可以保持该文件不动，在安装它们时再改：<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">M.plugins = &#123;</span><br><span class="line">  user = &#123;</span><br><span class="line">      [<span class="string">&quot;kyazdani42/nvim-tree.lua&quot;</span>] = &#123;</span><br><span class="line">      cmd = &#123; <span class="string">&quot;abc&quot;</span> &#125;,</span><br><span class="line">      <span class="built_in">config</span> = <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">          <span class="built_in">require</span> <span class="string">&quot;custom.plugins.nvimtree&quot;</span></span><br><span class="line">      <span class="keyword">end</span>,</span><br><span class="line">   &#125;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="comment">-- This will change cmd, config values from default plugin definition</span></span><br><span class="line"><span class="comment">-- So the setup value isnt changed, look close!</span></span><br></pre></td></tr></table></figure></p>
<h3 id="删除插件"><a href="#删除插件" class="headerlink" title="删除插件"></a>删除插件</h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">M.plugins = &#123;</span><br><span class="line">  <span class="built_in">remove</span> = &#123;</span><br><span class="line">      <span class="string">&quot;andymass/vim-matchup&quot;</span>,</span><br><span class="line">      <span class="string">&quot;NvChad/nvterm&quot;</span>,</span><br><span class="line">   &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- now run :PackerSync</span></span><br></pre></td></tr></table></figure>
<h2 id="快捷键映射-1"><a href="#快捷键映射-1" class="headerlink" title="快捷键映射"></a>快捷键映射</h2><ul>
<li><code>C</code>是<code>Ctrl</code></li>
<li><code>&lt;leader&gt;</code>是<code>&lt;space&gt;</code></li>
<li><code>A</code>是<code>Alt</code></li>
<li><code>S</code>是<code>Shift</code></li>
<li>默认配置在<code>core/mappings.lua</code>中定义。</li>
</ul>
<h3 id="快捷键映射格式"><a href="#快捷键映射格式" class="headerlink" title="快捷键映射格式"></a>快捷键映射格式</h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- opts here is completely optional</span></span><br><span class="line"></span><br><span class="line"> [<span class="string">&quot;keys&quot;</span>] = &#123;<span class="string">&quot;action&quot;</span>, <span class="string">&quot;icon  mapping description&quot;</span>, opts = &#123;&#125;&#125;,</span><br><span class="line"></span><br><span class="line"> <span class="comment">-- more examples</span></span><br><span class="line"> [<span class="string">&quot;&lt;C-n&gt;&quot;</span>] = &#123;<span class="string">&quot;&lt;cmd&gt; NvimTreeToggle &lt;CR&gt;&quot;</span>, <span class="string">&quot;Toggle nvimtree&quot;</span>, opts = &#123;&#125;&#125;,</span><br><span class="line"></span><br><span class="line"> [<span class="string">&quot;&lt;leader&gt;uu&quot;</span>] = &#123; <span class="string">&quot;&lt;cmd&gt; :NvChadUpdate &lt;CR&gt;&quot;</span>, <span class="string">&quot;  update nvchad&quot;</span> &#125;,</span><br><span class="line"></span><br><span class="line"> [<span class="string">&quot;;&quot;</span>] = &#123; <span class="string">&quot;:&quot;</span>, <span class="string">&quot;enter cmdline&quot;</span>, opts = &#123; nowait = <span class="literal">true</span> &#125; &#125;,</span><br><span class="line"> [<span class="string">&quot;jk&quot;</span>] = &#123; <span class="string">&quot;&lt;ESC&gt;&quot;</span>, <span class="string">&quot;escape insert mode&quot;</span> , opts = &#123; nowait = <span class="literal">true</span> &#125;&#125;,</span><br><span class="line"></span><br><span class="line"> <span class="comment">-- example with lua function</span></span><br><span class="line"> [<span class="string">&quot;&lt;leader&gt;tt&quot;</span>] = &#123;</span><br><span class="line">     <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">        <span class="built_in">require</span>(<span class="string">&quot;base46&quot;</span>).toggle_theme()</span><br><span class="line">     <span class="keyword">end</span>,</span><br><span class="line">        <span class="string">&quot;   toggle theme&quot;</span>,</span><br><span class="line">   &#125;,</span><br></pre></td></tr></table></figure>
<ul>
<li>映射描述对<code>Whichkey</code>是必要的，对于非<code>Whichkey</code>则不是必需</li>
<li>可以使用图标来帮助阅读，不过也不是必选项，而是可选项</li>
<li>可以从<a target="_blank" rel="noopener" href="https://www.nerdfonts.com/cheat-sheet">这里</a>来复制和粘贴图标</li>
<li>默认的<code>opts</code>的值有：<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  buffer = <span class="literal">nil</span>, <span class="comment">-- Global mappings. Specify a buffer number for buffer local mappings</span></span><br><span class="line">  silent = <span class="literal">true</span>, </span><br><span class="line">  noremap = <span class="literal">true</span>,</span><br><span class="line">  nowait = <span class="literal">false</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">-- all standard key binding opts are supported </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="增加新的映射"><a href="#增加新的映射" class="headerlink" title="增加新的映射"></a>增加新的映射</h3><p>默认配置在<code>core/mappings.lua</code>中定义，然后可以在<code>custom/mappings.lua</code>中增加新的映射：<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- lua/custom/mappings </span></span><br><span class="line"><span class="keyword">local</span> M = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- add this table only when you want to disable default keys</span></span><br><span class="line">M.disabled = &#123;</span><br><span class="line">  n = &#123;</span><br><span class="line">      [<span class="string">&quot;&lt;leader&gt;h&quot;</span>] = <span class="string">&quot;&quot;</span>,</span><br><span class="line">      [<span class="string">&quot;&lt;C-s&gt;&quot;</span>] = <span class="string">&quot;&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">M.abc = &#123;</span><br><span class="line"></span><br><span class="line">  n = &#123;</span><br><span class="line">     [<span class="string">&quot;&lt;C-n&gt;&quot;</span>] = &#123;<span class="string">&quot;&lt;cmd&gt; Telescope &lt;CR&gt;&quot;</span>, <span class="string">&quot;Open Telescope&quot;</span>&#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  i = &#123;</span><br><span class="line">    <span class="comment">-- more keys!</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">M.xyz = &#123;</span><br><span class="line">  <span class="comment">-- stuff</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> M</span><br></pre></td></tr></table></figure><br>注意在自己的<code>custom/chadrc.lua</code>中引入：<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- chadrc</span></span><br><span class="line">M.mappings = <span class="built_in">require</span> <span class="string">&quot;custom.mappings&quot;</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>上面的<code>abc</code>和<code>xyz</code>是随意取的，为了可读性，可以改成插件名字</li>
<li>上面的映射关系是自动加载的，不需要手动加载。</li>
</ul>
<h2 id="UI插件"><a href="#UI插件" class="headerlink" title="UI插件"></a>UI插件</h2><p><code>NvChad</code>使用了自己的<a target="_blank" rel="noopener" href="https://github.com/NvChad/ui">UI插件</a>。</p>
<h2 id="LSP"><a href="#LSP" class="headerlink" title="LSP"></a>LSP</h2><p>以下出在<a target="_blank" rel="noopener" href="https://juejin.cn/book/7051157342770954277">掘金上的这个小册</a>：</p>
<blockquote>
<p>想要在 Neovim 中配置代码补全、代码悬停、代码提示等等功能，首先要了解什么是 LSP (Language Server Protocol) 语言服务协议。<br>在 LSP 出现之前，传统的 IDE 都要为其支持的每个语言实现类似的代码补全、文档提示、跳转到定义等功能，不同的 IDE 做了很多重复的工作，并且兼容性也不是很好。 LSP 的出现将编程工具解耦成了 Language Server 与 Language Client 两部分。定义了编辑器与语言服务器之间交互协议。<br>Client 专注于显示样式实现， Server 负责提供语言支持，包括常见的自动补全、跳转到定义、查找引用、悬停文档提示等功能。<br>而这里所说的 Neovim 内置 LSP 就是说 Neovim 内置了一套 Language Client 端的实现，这样就可以连接到和 VSCode 相同的第三方 language servers ，实现高质量的语法补全等功能。</p>
</blockquote>
<p>还有一个简单的教程见<a target="_blank" rel="noopener" href="http://xfyuan.github.io/2021/02/neovim-builtin-lsp-basic-configuration/">这里</a>。</p>
<blockquote>
<p>为了简化 LSP 的安装和配置，NeoVim 官方专门创建了 <code>nvim-lspconfig</code> 插件来帮助我们。这个插件把所有 LSP 背后的繁琐都封装到其内部，让使用者再也毋需担心出现费了大半天功夫结果仍然无法用起来的事。</p>
</blockquote>
<h3 id="搭建内部LSP"><a href="#搭建内部LSP" class="headerlink" title="搭建内部LSP"></a>搭建内部LSP</h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- we are just modifying lspconfig&#x27;s packer definition table</span></span><br><span class="line"><span class="comment">-- put this in your custom plugins section i.e M.plugins.user field </span></span><br><span class="line"></span><br><span class="line">[<span class="string">&quot;neovim/nvim-lspconfig&quot;</span>] = &#123;</span><br><span class="line">    <span class="built_in">config</span> = <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">      <span class="built_in">require</span> <span class="string">&quot;plugins.configs.lspconfig&quot;</span></span><br><span class="line">      <span class="built_in">require</span> <span class="string">&quot;custom.plugins.lspconfig&quot;</span></span><br><span class="line">    <span class="keyword">end</span>,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- custom.plugins.lspconfig</span></span><br><span class="line"><span class="keyword">local</span> on_attach = <span class="built_in">require</span>(<span class="string">&quot;plugins.configs.lspconfig&quot;</span>).on_attach</span><br><span class="line"><span class="keyword">local</span> capabilities = <span class="built_in">require</span>(<span class="string">&quot;plugins.configs.lspconfig&quot;</span>).capabilities</span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> lspconfig = <span class="built_in">require</span> <span class="string">&quot;lspconfig&quot;</span></span><br><span class="line"><span class="keyword">local</span> servers = &#123; <span class="string">&quot;html&quot;</span>, <span class="string">&quot;cssls&quot;</span>, <span class="string">&quot;clangd&quot;</span>, <span class="string">&quot;pyright&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> _, lsp <span class="keyword">in</span> <span class="built_in">ipairs</span>(servers) <span class="keyword">do</span></span><br><span class="line">  lspconfig[lsp].setup &#123;</span><br><span class="line">    on_attach = on_attach,</span><br><span class="line">    capabilities = capabilities,</span><br><span class="line">  &#125;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>然后执行<code>:PackerCompile</code>。</p>
<h3 id="外部LSP-server"><a href="#外部LSP-server" class="headerlink" title="外部LSP server"></a>外部LSP server</h3><p>可以使用<code>Mason.nvim</code>来安装外部LSP Server。<br>输入命令<code>:Mason</code>，就能打开它的浮动窗口，来安装、更新、卸载相关的安装包（比如lspservers、linters和formatters等）。<br>最好是使用配置文件来使用<code>Mason.nvim</code>，如：<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&quot;williamboman/mason.nvim&quot;</span>] = &#123;</span><br><span class="line">     ensure_installed = &#123;</span><br><span class="line">       <span class="comment">-- lua stuff</span></span><br><span class="line">       <span class="string">&quot;lua-language-server&quot;</span>,</span><br><span class="line">       <span class="string">&quot;stylua&quot;</span>,</span><br><span class="line"></span><br><span class="line">       <span class="comment">-- web dev</span></span><br><span class="line">       <span class="string">&quot;css-lsp&quot;</span>,</span><br><span class="line">       <span class="string">&quot;html-lsp&quot;</span>,</span><br><span class="line">       <span class="string">&quot;typescript-language-server&quot;</span>,</span><br><span class="line">       <span class="string">&quot;deno&quot;</span>,</span><br><span class="line">       <span class="string">&quot;emmet-ls&quot;</span>,</span><br><span class="line">       <span class="string">&quot;json-lsp&quot;</span>,</span><br><span class="line"></span><br><span class="line">       <span class="comment">-- shell</span></span><br><span class="line">       <span class="string">&quot;shfmt&quot;</span>,</span><br><span class="line">       <span class="string">&quot;shellcheck&quot;</span>,</span><br><span class="line">     &#125;,</span><br><span class="line">   &#125;,</span><br></pre></td></tr></table></figure><br>然后执行<code>:MasonInstallAll</code>（注意该命令是<code>NvChad</code>的定制命令，不是官方原有命令）。</p>
<h2 id="代码调试DAP"><a href="#代码调试DAP" class="headerlink" title="代码调试DAP"></a>代码调试DAP</h2><p><code>DAP</code>，即<code>Debug Adapter Protocol</code>，是<code>neovim</code>最常用的代码调试工具。<br>不过当前的<code>NvChad</code>并没有内置<code>DAP</code>，据说可能在<code>NvChad 2.0</code>中会加入。<br>当前可以参考我的配置，在<a target="_blank" rel="noopener" href="https://github.com/qixinbo/NvChad/tree/custom/lua/custom">这里</a>。<br>使用DAP<code>需要安装一各特定语言的</code>Debug Adapter<code>。</code>python<code>的话就是使用</code>debugpy`。</p>
<h3 id="使用conda安装debugpy"><a href="#使用conda安装debugpy" class="headerlink" title="使用conda安装debugpy"></a>使用conda安装debugpy</h3><p>正常安装<code>miniconda</code>或者<code>ananconda</code>后，激活某个虚拟环境，然后安装：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install debugpy</span><br></pre></td></tr></table></figure><br>然后在<code>custom/plugins/dap/dap-python.lua</code>中使用<code>nvim-dap-python</code>的默认配置即可：<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>(<span class="string">&#x27;dap-python&#x27;</span>).setup(<span class="string">&#x27;python&#x27;</span>)</span><br></pre></td></tr></table></figure></p>
<h3 id="在venv中debugpy"><a href="#在venv中debugpy" class="headerlink" title="在venv中debugpy"></a>在venv中debugpy</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install python3.10-venv</span><br><span class="line">python -m venv path/to/virtualenvs/debugpy</span><br><span class="line">path/to/virtualenvs/debugpy/bin/python -m pip install debugpy</span><br></pre></td></tr></table></figure>
<p>然后在<code>custom/plugins/dap/dap-python.lua</code>中将该路径配置进去：<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>(<span class="string">&#x27;dap-python&#x27;</span>).setup(<span class="string">&#x27;path/to/virtualenvs/debugpy/bin/python&#x27;</span>)</span><br></pre></td></tr></table></figure></p>

    </div>

    
    
    
        <div class="reward-container">
  <div></div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    Donate
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechat_reward.png" alt="Xin-Bo Qi(亓欣波) WeChat Pay">
        <p>WeChat Pay</p>
      </div>

  </div>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/vim/" rel="tag"># vim</a>
              <a href="/tags/IDE/" rel="tag"># IDE</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/07/06/aliyun-GUI/" rel="prev" title="使用VNC安装云服务器图形界面的过程记录">
      <i class="fa fa-chevron-left"></i> 使用VNC安装云服务器图形界面的过程记录
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AE%80%E4%BB%8B"><span class="nav-number">1.</span> <span class="nav-text">简介</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%89%E8%A3%85"><span class="nav-number">2.</span> <span class="nav-text">安装</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E6%8F%90%E6%9D%A1%E4%BB%B6"><span class="nav-number">2.1.</span> <span class="nav-text">前提条件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%87%E7%BA%A7"><span class="nav-number">2.2.</span> <span class="nav-text">升级</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%B8%E8%BD%BD"><span class="nav-number">2.3.</span> <span class="nav-text">卸载</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E4%B9%8B%E5%90%8E"><span class="nav-number">3.</span> <span class="nav-text">安装之后</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE"><span class="nav-number">3.1.</span> <span class="nav-text">创建自定义配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85Treesitter%E8%A7%A3%E6%9E%90%E5%99%A8"><span class="nav-number">3.2.</span> <span class="nav-text">安装Treesitter解析器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85Node-JS"><span class="nav-number">3.3.</span> <span class="nav-text">安装Node.JS</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Lua%E7%AE%80%E6%98%8E%E6%95%99%E7%A8%8B"><span class="nav-number">4.</span> <span class="nav-text">Lua简明教程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Print"><span class="nav-number">4.1.</span> <span class="nav-text">Print</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B3%A8%E9%87%8A"><span class="nav-number">4.2.</span> <span class="nav-text">注释</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%98%E9%87%8F"><span class="nav-number">4.3.</span> <span class="nav-text">变量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9D%A1%E4%BB%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">4.4.</span> <span class="nav-text">条件表达式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%84%E5%90%88%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">4.4.1.</span> <span class="nav-text">组合表达式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%8D%E8%BD%AC"><span class="nav-number">4.4.2.</span> <span class="nav-text">反转</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%87%BD%E6%95%B0"><span class="nav-number">4.5.</span> <span class="nav-text">函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-number">4.6.</span> <span class="nav-text">作用域</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BE%AA%E7%8E%AF"><span class="nav-number">4.7.</span> <span class="nav-text">循环</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#While"><span class="nav-number">4.7.1.</span> <span class="nav-text">While</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#For"><span class="nav-number">4.7.2.</span> <span class="nav-text">For</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Tables"><span class="nav-number">4.8.</span> <span class="nav-text">Tables</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%EF%BC%88%E5%88%97%E8%A1%A8%EF%BC%89"><span class="nav-number">4.8.1.</span> <span class="nav-text">数组（列表）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E5%85%B8"><span class="nav-number">4.8.2.</span> <span class="nav-text">字典</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B5%8C%E5%A5%97Tables"><span class="nav-number">4.8.3.</span> <span class="nav-text">嵌套Tables</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97"><span class="nav-number">4.9.</span> <span class="nav-text">模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Neovim%E4%B8%AD%E7%9A%84Lua%E5%BA%94%E7%94%A8"><span class="nav-number">4.10.</span> <span class="nav-text">Neovim中的Lua应用</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE"><span class="nav-number">5.</span> <span class="nav-text">配置</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E8%A7%88"><span class="nav-number">5.1.</span> <span class="nav-text">总览</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E4%B8%BB%E9%A2%98"><span class="nav-number">5.1.1.</span> <span class="nav-text">配置主题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BF%AB%E6%8D%B7%E9%94%AE%E6%98%A0%E5%B0%84"><span class="nav-number">5.1.2.</span> <span class="nav-text">快捷键映射</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%BB%98%E8%AE%A4%E8%AE%BE%E7%BD%AE"><span class="nav-number">5.1.3.</span> <span class="nav-text">默认设置</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%89%E9%A1%B9"><span class="nav-number">5.2.</span> <span class="nav-text">选项</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8F%92%E4%BB%B6"><span class="nav-number">5.3.</span> <span class="nav-text">插件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6"><span class="nav-number">5.3.1.</span> <span class="nav-text">安装插件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%87%8D%E8%BD%BD%E6%8F%92%E4%BB%B6%E7%9A%84%E9%BB%98%E8%AE%A4%E9%85%8D%E7%BD%AE"><span class="nav-number">5.3.2.</span> <span class="nav-text">重载插件的默认配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E6%8F%92%E4%BB%B6%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="nav-number">5.3.3.</span> <span class="nav-text">修改插件的配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E6%8F%92%E4%BB%B6"><span class="nav-number">5.3.4.</span> <span class="nav-text">删除插件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BF%AB%E6%8D%B7%E9%94%AE%E6%98%A0%E5%B0%84-1"><span class="nav-number">5.4.</span> <span class="nav-text">快捷键映射</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BF%AB%E6%8D%B7%E9%94%AE%E6%98%A0%E5%B0%84%E6%A0%BC%E5%BC%8F"><span class="nav-number">5.4.1.</span> <span class="nav-text">快捷键映射格式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E5%8A%A0%E6%96%B0%E7%9A%84%E6%98%A0%E5%B0%84"><span class="nav-number">5.4.2.</span> <span class="nav-text">增加新的映射</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UI%E6%8F%92%E4%BB%B6"><span class="nav-number">5.5.</span> <span class="nav-text">UI插件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LSP"><span class="nav-number">5.6.</span> <span class="nav-text">LSP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%90%AD%E5%BB%BA%E5%86%85%E9%83%A8LSP"><span class="nav-number">5.6.1.</span> <span class="nav-text">搭建内部LSP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%96%E9%83%A8LSP-server"><span class="nav-number">5.6.2.</span> <span class="nav-text">外部LSP server</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E8%B0%83%E8%AF%95DAP"><span class="nav-number">5.7.</span> <span class="nav-text">代码调试DAP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8conda%E5%AE%89%E8%A3%85debugpy"><span class="nav-number">5.7.1.</span> <span class="nav-text">使用conda安装debugpy</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%A8venv%E4%B8%ADdebugpy"><span class="nav-number">5.7.2.</span> <span class="nav-text">在venv中debugpy</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Xin-Bo Qi(亓欣波)"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Xin-Bo Qi(亓欣波)</p>
  <div class="site-description" itemprop="description">Digitize everything to realize Digitalization!</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">167</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">56</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/qixinbo" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;qixinbo" rel="noopener" target="_blank"><i class="github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:qixinbo@gmail.com" title="E-Mail → mailto:qixinbo@gmail.com" rel="noopener" target="_blank"><i class="envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/qixinbo" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;qixinbo" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS → &#x2F;atom.xml"><i class="fas fa-rss fa-fw"></i>RSS</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://www.tsinghua.edu.cn/" title="https:&#x2F;&#x2F;www.tsinghua.edu.cn" rel="noopener" target="_blank">THU</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://www.imr.cas.cn/" title="http:&#x2F;&#x2F;www.imr.cas.cn" rel="noopener" target="_blank">IMR</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://www.sdu.edu.cn/" title="http:&#x2F;&#x2F;www.sdu.edu.cn" rel="noopener" target="_blank">SDU</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://liam0205.me/" title="http:&#x2F;&#x2F;liam0205.me&#x2F;" rel="noopener" target="_blank">黄晨成</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xin-Bo Qi(亓欣波)</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://qixinbo.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "http://qixinbo.github.io/2022/08/11/neovim_nvchad/";
    this.page.identifier = "2022/08/11/neovim_nvchad/";
    this.page.title = "Neovim预配置库NvChad探索";
    };
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://qixinbo.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

</body>
</html>
